---
title: 第24节：规则完善和应用接口实现
pay: https://t.zsxq.com/BLn04
---

# 《大营销平台系统设计实现》 - 营销服务 第24节：规则完善和应用接口实现

作者：小傅哥
<br/>博客：[https://bugstack.cn](https://bugstack.cn)

>沉淀、分享、成长，让自己和他人都能有所收获！😄

- **本章难度**：★★★☆☆
- **本章重点**：综合实现抽奖所需渲染UI的接口，包括；活动账户额度、签到&查询、权重范围，以及完善权重规则校验接口
- **课程视频**：[https://t.zsxq.com/HDir9](https://t.zsxq.com/HDir9)

**版权说明**：©本项目与星球签约合作，受[《中华人民共和国著作权法实施条例》](http://www.gov.cn/zhengce/2020-12/26/content_5573623.htm) 版权法保护，禁止任何理由和任何方式公开(public)源码、资料、视频等内容到Github、Gitee等，违反可追究进一步的法律行动。

## 一、本章诉求

完善权重规则的校验，用户的总抽奖次数作为规则权重的比对值，一个活动下抽奖总N次后，可获得必中范围奖品。之后提供出，活动账户额度、签到&查询、权重范围接口，用于前端UI渲染使用。

## 二、业务流程

如图，来看下要实现的接口内容；

<div align="center">
    <img src="https://bugstack.cn/images/article/project/big-market/big-market-33-01.png" width="750px">
</div>

- 剩余抽奖次数接口，后端会返回；总、日、月，总额度和剩余额度，这样可以满足前端的各类渲染诉求。
- 点击签到接口和签到结果查询接口，如果今日已签到，则展示灰色并不可签到。
- 权重规则范围展示接口，告诉用户总计抽奖多少次后，可以必中指定范围奖品。
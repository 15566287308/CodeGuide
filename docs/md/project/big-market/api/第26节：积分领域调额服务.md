---
title: 第26节：积分领域调额服务
pay: https://t.zsxq.com/cXQ61
---

# 《大营销平台系统设计实现》 - 营销服务 第26节：积分领域调额服务

作者：小傅哥
<br/>博客：[https://bugstack.cn](https://bugstack.cn)

>沉淀、分享、成长，让自己和他人都能有所收获！😄

- **本章难度**：★★★☆☆
- **本章重点**：增加用户积分领域模块，开发积分调额接口。串联行为发奖动作，发放用户积分奖励。
- **课程视频**：[https://t.zsxq.com/Vy6oX](https://t.zsxq.com/Vy6oX)

**版权说明**：©本项目与星球签约合作，受[《中华人民共和国著作权法实施条例》](http://www.gov.cn/zhengce/2020-12/26/content_5573623.htm) 版权法保护，禁止任何理由和任何方式公开(public)源码、资料、视频等内容到Github、Gitee等，违反可追究进一步的法律行动。

## 零、代码调整 - 专门记录对前面章节的修复和完善

- 分支：[fix-240527-xfg-mysql-lock](https://gitcode.net/KnowledgePlanet/big-market/big-market/-/tree/fix-240527-xfg-mysql-lock)
- 描述：对事物操作，不存在的账户创建，存在则更新。新增加了查询判断和 redis lock 加锁增强代码健壮性。另外完善工程日志。

## 一、本章诉求

增加用户积分领域模块，开发积分调额接口。串联行为发奖动作，发放用户积分奖励。这是一整条流程，在设计积分领域模块的时候，要考虑这块模型的功能添加都有哪些，将来可能会存在的接口。如；把对积分账户的增加，抽象为调额。将来使用积分还可以定义出积分消费的接口。我们通过不同的接口做职责的划分。

## 二、业务流程

如图，增加积分领域模块；

<div align="center">
    <img src="https://bugstack.cn/images/article/project/big-market/big-market-37-01.png" width="650px">
</div>

- 首先，设计、定义和开发出积分领域模块，增加积分调额接口。
- 之后，对接返利异步消息，完成积分额度的增加。